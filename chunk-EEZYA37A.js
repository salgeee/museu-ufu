import{k as M,l as P,n as O}from"./chunk-RN4L4O5X.js";import{Ab as p,Ib as o,Kb as _,La as C,Na as s,Ya as b,bb as f,ia as m,ib as d,ja as g,kb as v,qb as i,rb as a,sb as u,wb as h,zb as l}from"./chunk-2O3Z4FTK.js";function w(r,x){if(r&1){let e=h();i(0,"div",9),l("click",function(){let n=m(e).$implicit,c=p();return g(c.flipCard(n))}),i(1,"div",10)(2,"div",11),u(3,"img",12),a(),i(4,"div",13),u(5,"img",14),a()()()}if(r&2){let e=x.$implicit;v("flipped",e.isFlipped)("matched",e.isMatched),s(5),d("src",e.image,C)("alt","Imagem "+e.id)}}function z(r,x){if(r&1){let e=h();i(0,"div",15)(1,"div",16)(2,"h2"),o(3,"\u{1F389} Parab\xE9ns!"),a(),i(4,"p"),o(5),a(),i(6,"button",7),l("click",function(){m(e);let n=p();return g(n.startNewGame())}),o(7,"Jogar novamente"),a()()()}if(r&2){let e=p();s(5),_("Voc\xEA completou o jogo da mem\xF3ria em ",e.timeElapsed,"!")}}var E=(()=>{class r{timeElapsed="00:00";timerInterval;startTime=new Date;cards=[];flippedCards=[];canFlip=!0;gameWon=!1;ngOnInit(){this.startNewGame(),this.gameWon=!1}startNewGame(){this.gameWon=!1,this.startTime=new Date,this.timerInterval&&clearInterval(this.timerInterval),this.startTimer();let e=["public/images/charles_babbage.png","public/images/ada_lovelace.png","public/images/eniac.png","public/images/alan_turing.png","public/images/transitor.png","public/images/internet.png","public/images/steve_jobs.png","public/images/bill_gates.png","public/images/quantum.png"];this.cards=[];let t=1;e.forEach(n=>{this.cards.push({id:t++,image:n,isFlipped:!1,isMatched:!1}),this.cards.push({id:t++,image:n,isFlipped:!1,isMatched:!1})}),this.shuffleCards()}shuffleCards(){for(let e=this.cards.length-1;e>0;e--){let t=Math.floor(Math.random()*(e+1));[this.cards[e],this.cards[t]]=[this.cards[t],this.cards[e]]}}startTimer(){this.timerInterval=setInterval(()=>{let t=new Date().getTime()-this.startTime.getTime(),n=Math.floor(t/6e4),c=Math.floor(t%6e4/1e3);this.timeElapsed=`${n.toString().padStart(2,"0")}:${c.toString().padStart(2,"0")}`},1e3)}flipCard(e){!this.canFlip||e.isFlipped||e.isMatched||(e.isFlipped=!0,this.flippedCards.push(e),this.flippedCards.length===2&&(this.canFlip=!1,this.checkMatch()))}checkMatch(){let[e,t]=this.flippedCards;e.image===t.image?(e.isMatched=!0,t.isMatched=!0,this.flippedCards=[],this.canFlip=!0,this.cards.every(n=>n.isMatched)&&(clearInterval(this.timerInterval),setTimeout(()=>{this.gameWon=!0},500))):setTimeout(()=>{e.isFlipped=!1,t.isFlipped=!1,this.flippedCards=[],this.canFlip=!0},1e3)}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=b({type:r,selectors:[["app-puzzles"]],decls:15,vars:3,consts:[[1,"puzzle-container"],[1,"game-info"],[1,"timer"],[1,"memory-board"],[1,"cards-grid"],["class","card",3,"flipped","matched","click",4,"ngFor","ngForOf"],[1,"controls"],[3,"click"],["class","game-over-modal",4,"ngIf"],[1,"card",3,"click"],[1,"card-inner"],[1,"card-front"],["src","public/images/card-back.png","alt","Verso da carta"],[1,"card-back"],[3,"src","alt"],[1,"game-over-modal"],[1,"modal-content"]],template:function(t,n){t&1&&(i(0,"div",0)(1,"h1"),o(2,"Jogo da Mem\xF3ria - Hist\xF3ria da Computa\xE7\xE3o"),a(),i(3,"div",1)(4,"p"),o(5,"Encontre os pares de cartas!"),a(),i(6,"div",2),o(7),a()(),i(8,"div",3)(9,"div",4),f(10,w,6,6,"div",5),a()(),i(11,"div",6)(12,"button",7),l("click",function(){return n.startNewGame()}),o(13,"Novo Jogo"),a()()(),f(14,z,8,1,"div",8)),t&2&&(s(7),_("Tempo: ",n.timeElapsed,""),s(3),d("ngForOf",n.cards),s(4),d("ngIf",n.gameWon))},dependencies:[O,M,P],styles:[".puzzle-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:20px;text-align:center}.timer[_ngcontent-%COMP%]{font-size:1.2em;font-weight:700;margin:10px 0}.memory-board[_ngcontent-%COMP%]{width:100%;max-width:800px;margin:20px auto}.cards-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:15px;padding:10px}.card[_ngcontent-%COMP%]{width:100%;aspect-ratio:3 / 3;max-width:150px;margin:0 auto;perspective:1000px;cursor:pointer;border-radius:18px}.card-inner[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;text-align:center;transition:transform .6s;transform-style:preserve-3d;border-radius:18px}.card.flipped[_ngcontent-%COMP%]   .card-inner[_ngcontent-%COMP%]{transform:rotateY(180deg)}.card-front[_ngcontent-%COMP%], .card-back[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;border-radius:18px;box-shadow:0 4px 8px #0000001a;overflow:hidden;backface-visibility:hidden;top:0;left:0}.card-front[_ngcontent-%COMP%]{background-color:transparent;display:flex;align-items:center;justify-content:center;z-index:2}.card-back[_ngcontent-%COMP%]{background-color:#fff;transform:rotateY(180deg);display:flex;align-items:center;justify-content:center;z-index:1}.card-front[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .card-back[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:18px}.card.matched[_ngcontent-%COMP%]{opacity:1;transform:scale(1.05);animation:_ngcontent-%COMP%_pulse .4s ease;border:3px solid #4CAF50}.controls[_ngcontent-%COMP%]{margin-top:20px}button[_ngcontent-%COMP%]{padding:10px 20px;margin:0 10px;font-size:1.1em;background-color:#b7ffbb;color:#fff;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s}button[_ngcontent-%COMP%]:hover{background-color:#45a049}.game-over-modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#0009;display:flex;justify-content:center;align-items:center;z-index:999}.modal-content[_ngcontent-%COMP%]{background-color:#fff;padding:30px;border-radius:12px;box-shadow:0 8px 16px #0003;text-align:center;max-width:90%}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(1)}50%{transform:scale(1.08)}to{transform:scale(1.05)}}@media (max-width: 600px){.puzzle-container[_ngcontent-%COMP%]{padding:10px}.cards-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr);gap:10px}.card[_ngcontent-%COMP%]{max-width:100px;aspect-ratio:1 / 1}.modal-content[_ngcontent-%COMP%]{width:90%;padding:20px}.timer[_ngcontent-%COMP%]{font-size:1em}.controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;margin:10px 0;font-size:1em}button[_ngcontent-%COMP%]{padding:10px}}"]})}return r})();export{E as PuzzlesComponent};
