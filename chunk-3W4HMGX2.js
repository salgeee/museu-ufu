import{a as le}from"./chunk-NEINYVI2.js";import{a as Q,b as X,c as v,d as S,e as Z,f as $,g as P,h as ee,i as te,j as ne,k as ie,l as oe,m as re,n as ae,p as se,q as x,r as ce,u as pe}from"./chunk-4KONTO6J.js";import{l as K}from"./chunk-BX3I22LJ.js";import{j as H,m as J}from"./chunk-RN4L4O5X.js";import{Ab as c,Bb as D,Cb as F,Db as B,Hb as L,Ib as l,Jb as q,Kb as U,Mb as R,Na as s,Nb as j,Ob as G,Pb as z,Ra as V,Sb as W,Vb as Y,W as O,Ya as w,_a as N,ba as p,bb as u,dc as d,hb as A,i as E,ia as _,ib as m,ja as C,lb as k,nb as f,qa as I,qb as o,rb as r,sb as g,va as y,vb as T,wb as M,zb as b}from"./chunk-2O3Z4FTK.js";var _e=["*"],Ce=(t,a,e,n)=>[t,a,e,n];function be(t,a){t&1&&T(0)}function ve(t,a){if(t&1&&(o(0,"div",3)(1,"div",5),g(2,"i",6),r(),u(3,be,1,0,"ng-container",7),r()),t&2){let e=c(),n=L(6);s(2),k(e.icon),s(),m("ngTemplateOutlet",n)}}function xe(t,a){t&1&&T(0)}function ye(t,a){if(t&1){let e=M();o(0,"button",9),b("click",function(i){_(e);let h=c(2);return C(h.onClickButton(i))}),g(1,"i",6),r()}if(t&2){let e=c(2);m("disabled",e.disabled),s(),k(e.icon)}}function we(t,a){if(t&1&&u(0,xe,1,0,"ng-container",7)(1,ye,2,3,"button",8),t&2){let e=c(),n=L(6);m("ngTemplateOutlet",n),s(),f(e.hasButton?1:-1)}}function Se(t,a){if(t&1){let e=M();o(0,"input",10),G("ngModelChange",function(i){_(e);let h=c();return j(h.value,i)||(h.value=i),C(i)}),b("change",function(i){_(e);let h=c();return C(h.onChangeInput(i))})("blur",function(){_(e);let i=c();return C(i.onBlur())}),r()}if(t&2){let e=c();B("id","input-",e.id,""),m("name",e.name)("disabled",e.disabled)("type",e.type)("readonly",e.readonly),R("ngModel",e.value),m("mask",e.mask),A("autocomplete",e.autocomplete)("maxLength",e.maxLength)("min",e.min)("max",e.max)("pattern",e.pattern)("placeholder",e.placeholder)("step",e.step)("required",e.required)}}function Ee(t,a){t&1&&(o(0,"span",4),g(1,"i",11),l(2,"Campo Desabilitado"),r())}function Ie(t,a){if(t&1&&(o(0,"p"),l(1),r()),t&2){let e=c(2);s(),q(e.hint)}}function ke(t,a){if(t&1&&(u(0,Ie,2,1,"p"),F(1)),t&2){let e=c();f(e.hint?0:-1)}}var de=(()=>{class t{label="";id;name="";size="medium";type="text";state="";placeholder="";hint="";autocomplete="off";feedback="";mask="";hasButton=!1;highlight=!1;readonly=!1;disabled=!1;hasIcon=!1;icon="fas fa-search";maxLength;min;max;pattern;step;get required(){return this._required??this.control?.hasValidator(v.required)??!1}set required(e){this._required=e}_required;change=new I;clickButton=new I;control;_value;get value(){return this._value}set value(e){this.disabled||(this._value=e,this._change(e))}_touched=()=>{};_change=()=>{};instance;brInput=p(y);constructor(){}ngAfterViewInit(){this.instance=new ae("br-input",this.brInput.nativeElement.querySelector(".br-input"))}writeValue(e){this.value=e}setDisabledState(e){this.disabled=e}registerOnChange(e){this._change=e}registerOnTouched(e){this._touched=e}onBlur(){this._touched()}onChangeInput(e){!this.disabled&&e.target.value&&this.change.emit(this.value)}onClickButton(e){e.stopPropagation(),this.disabled||this.clickButton.emit()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=w({type:t,selectors:[["app-input"]],inputs:{label:"label",id:"id",name:"name",size:"size",type:"type",state:"state",placeholder:"placeholder",hint:"hint",autocomplete:"autocomplete",feedback:"feedback",mask:"mask",hasButton:[2,"hasButton","hasButton",d],highlight:[2,"highlight","highlight",d],readonly:[2,"readonly","readonly",d],disabled:[2,"disabled","disabled",d],hasIcon:[2,"hasIcon","hasIcon",d],icon:"icon",maxLength:"maxLength",min:"min",max:"max",pattern:"pattern",step:"step",required:[2,"required","required",d]},outputs:{change:"change",clickButton:"clickButton"},features:[z([{provide:Q,useExisting:O(()=>t),multi:!0}])],ngContentSelectors:_e,decls:9,vars:11,consts:[["input",""],[1,"br-input",3,"ngClass"],[3,"for"],[1,"input-group"],["role","alert",1,"feedback","warning"],[1,"input-icon"],["aria-hidden","true"],[4,"ngTemplateOutlet"],["type","button","aria-label","Bot\xE3o",1,"br-button",3,"disabled"],["type","button","aria-label","Bot\xE3o",1,"br-button",3,"click","disabled"],[3,"ngModelChange","change","blur","id","name","disabled","type","readonly","ngModel","mask"],["aria-hidden","true",1,"fas","fa-exclamation-triangle"]],template:function(n,i){n&1&&(D(),o(0,"div",1)(1,"label",2),l(2),r(),u(3,ve,4,3,"div",3)(4,we,2,2)(5,Se,1,16,"ng-template",null,0,Y)(7,Ee,3,0,"span",4)(8,ke,2,1),r()),n&2&&(m("ngClass",W(6,Ce,i.size,i.hasButton?"input-button":"",i.state,i.highlight?"input-highlight":"")),s(),B("for","input-",i.id,""),s(),U(" ",i.label," "),s(),f(i.hasIcon?3:4),s(4),f(i.disabled?7:8))},dependencies:[H,J,oe,X,S,ee,se],styles:[".br-input.disabled[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .br-input.warning[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .br-input.danger[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .br-input.success[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .br-input.info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:none}"]})}return t})();var Te=[{username:"aluno",role:x.STUDENT,accessToken:"bearer token",fullName:"Aluno",document:"98765432100"},{username:"publico",role:x.PUBLIC,accessToken:"",fullName:"Publico",document:"202819678900"}],ue=(t,a)=>{let e=Te.find(n=>n.username===t);return e?new E(n=>{n.next(e),n.complete()}):new E(n=>{n.error("Usu\xE1rio ou senha inv\xE1lidos"),n.complete()})};var Me={success:"fa-check-circle",danger:"fa-times-circle",warning:"fa-exclamation-triangle",info:"fa-info-circle","":""},fe=t=>Me[t]||"";var he=(()=>{class t{state="";noPropagateState=!1;node;el=p(y);renderer=p(V);constructor(){}ngAfterViewInit(){this.node=this.renderer.parentNode(this.el.nativeElement),this.state&&(this.setState(),this.setIcon())}setState(){!this.noPropagateState&&this.node&&this.node.classList.add(this.state),this.renderer.addClass(this.el.nativeElement,this.state)}setIcon(){let e=this.renderer.createElement("i");this.renderer.addClass(e,"fas"),this.renderer.addClass(e,fe(this.state)),this.renderer.setAttribute(e,"aria-hidden","true"),this.renderer.insertBefore(this.el.nativeElement,e,this.el.nativeElement.firstChild)}ngOnDestroy(){this.node&&this.node.classList.remove(this.state),this.el.nativeElement&&this.renderer.removeClass(this.el.nativeElement,this.state)}static \u0275fac=function(n){return new(n||t)};static \u0275dir=N({type:t,selectors:[["span","br-feedback",""]],hostAttrs:["role","alert",1,"feedback"],inputs:{state:"state",noPropagateState:[2,"noPropagateState","noPropagateState",d]}})}return t})();function Be(t,a){t&1&&(o(0,"span",6),l(1,"Campo obrigat\xF3rio"),r())}function Le(t,a){t&1&&(o(0,"span",6),l(1,"Campo obrigat\xF3rio"),r())}var ct=(()=>{class t{router=p(K);_alertService=p(ce);_authService=p(pe);formLogin=new $({username:new P("",[v.required]),password:new P("",[v.required])});submit(){if(this.formLogin.invalid){this.formLogin.markAsTouched();return}ue(this.formLogin.value.username,this.formLogin.value.password).subscribe({next:e=>{e.role===x.PUBLIC?this._alertService.showAlert("warning","Usu\xE1rio sem permiss\xE3o de acesso",void 0,!1,void 0,!0):(this._alertService.clearAlerts(),this._authService.setCredentials(e),this.router.navigate(["/home"]))},error:e=>{this._alertService.showAlert("danger",e,void 0,!1)}})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=w({type:t,selectors:[["app-login"]],decls:24,vars:3,consts:[[1,"br-card","col-sm-5","col-md-4",3,"ngSubmit","formGroup"],[1,"card-header"],[1,"text-weight-semi-bold","text-up-02"],[1,"card-content"],[1,"d-flex","flex-column","gap-2"],["formControlName","username","name","username","type","text","autocomplete","username","label","Usu\xE1rio","id","username"],["br-feedback","","state","danger"],["autocomplete","password","formControlName","password","name","password","label","Senha","type","password","id","password","hasButton","","icon","fas fa-eye"],[1,"card-footer"],[1,"d-flex"],["type","submit","br-button","","color","primary"],["href","https://www.idufu.ufu.br/forgetMyPassword","target","id@UFU","draggable","false",1,"ml-3","br-item"],[1,"br-divider"],[1,"mt-3"],["br-button","","color","secondary"],[1,"text-black"]],template:function(n,i){n&1&&(o(0,"form",0),b("ngSubmit",function(){return i.submit()}),o(1,"div",1)(2,"div",2),l(3,"Entrar com conta UFU"),r()(),o(4,"div",3)(5,"div",4)(6,"app-input",5),u(7,Be,2,0,"span",6),r(),o(8,"app-input",7),u(9,Le,2,0,"span",6),r()()(),o(10,"div",8)(11,"div",9)(12,"div")(13,"button",10),l(14,"Entrar"),r()(),o(15,"a",11),l(16,"Esqueceu sua senha?"),r()(),g(17,"hr",12),o(18,"div",13)(19,"button",14)(20,"div"),l(21,"Entrar com "),o(22,"span",15),l(23,"gov.br"),r()()()()()()),n&2&&(m("formGroup",i.formLogin),s(7),f(i.formLogin.controls.username.invalid&&!i.formLogin.controls.username.untouched?7:-1),s(2),f(i.formLogin.controls.password.invalid&&!i.formLogin.controls.password.untouched?9:-1))},dependencies:[de,re,te,S,Z,ne,ie,le,he],styles:["[_nghost-%COMP%]{display:flex;width:100%;height:100%;justify-content:center;align-items:center}"]})}return t})();export{ct as LoginComponent};
